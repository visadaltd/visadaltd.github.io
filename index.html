<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ViSADA - Innovative Software Solutions</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lucide/0.263.1/umd/lucide.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg-primary: #ffffff;
            --bg-secondary: #f8fafc;
            --bg-card: #ffffff;
            --text-primary: #0f172a;
            --text-secondary: #475569;
            --text-muted: #94a3b8;
            --accent: #3b82f6;
            --accent-hover: #2563eb;
            --border: #e2e8f0;
            --shadow: rgba(0, 0, 0, 0.1);
        }

        [data-theme="dark"] {
            --bg-primary: #0f172a;
            --bg-secondary: #1e293b;
            --bg-card: #1e293b;
            --text-primary: #f1f5f9;
            --text-secondary: #cbd5e1;
            --text-muted: #64748b;
            --accent: #60a5fa;
            --accent-hover: #3b82f6;
            --border: #334155;
            --shadow: rgba(0, 0, 0, 0.3);
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
            transition: background 0.3s, color 0.3s;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header */
        header {
            background: var(--bg-card);
            border-bottom: 1px solid var(--border);
            position: sticky;
            top: 0;
            z-index: 100;
            backdrop-filter: blur(10px);
            background: rgba(255, 255, 255, 0.9);
        }

        [data-theme="dark"] header {
            background: rgba(30, 41, 59, 0.9);
        }

        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 0;
        }

        .logo {
            font-size: 1.75rem;
            font-weight: 700;
            color: var(--accent);
            text-decoration: none;
        }

        .nav-links {
            display: flex;
            gap: 2rem;
            align-items: center;
        }

        .nav-links a {
            color: var(--text-secondary);
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
        }

        .nav-links a:hover {
            color: var(--accent);
        }

        .controls {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .icon-btn {
            background: none;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            padding: 0.5rem 0.75rem;
            border-radius: 8px;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.9rem;
        }

        .icon-btn:hover {
            background: var(--bg-secondary);
            color: var(--accent);
        }

        #langText {
            font-weight: 600;
            min-width: 24px;
            text-align: center;
        }

        /* Hero Section */
        .hero {
            padding: 6rem 0;
            text-align: center;
            background: linear-gradient(135deg, var(--bg-primary) 0%, var(--bg-secondary) 100%);
        }

        .hero h1 {
            font-size: 3.5rem;
            font-weight: 800;
            margin-bottom: 1.5rem;
            background: linear-gradient(135deg, var(--accent) 0%, #8b5cf6 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .hero p {
            font-size: 1.25rem;
            color: var(--text-secondary);
            max-width: 600px;
            margin: 0 auto 2rem;
        }

        .cta-button {
            display: inline-block;
            background: var(--accent);
            color: white;
            padding: 1rem 2rem;
            border-radius: 12px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s;
            box-shadow: 0 4px 12px var(--shadow);
        }

        .cta-button:hover {
            background: var(--accent-hover);
            transform: translateY(-2px);
            box-shadow: 0 6px 16px var(--shadow);
        }

        /* Products Section */
        .section {
            padding: 5rem 0;
        }

        .section-title {
            text-align: center;
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 3rem;
        }

        .product-card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 2.5rem;
            box-shadow: 0 4px 12px var(--shadow);
            transition: all 0.3s;
            margin-bottom: 2rem;
        }

        .product-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 24px var(--shadow);
        }

        .product-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .product-icon {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #10b981, #059669);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
        }

        .product-title {
            font-size: 1.75rem;
            font-weight: 700;
        }

        .product-description {
            color: var(--text-secondary);
            margin-bottom: 1.5rem;
            line-height: 1.8;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }

        .feature-item {
            display: flex;
            gap: 0.75rem;
            align-items: start;
        }

        .feature-icon {
            color: var(--accent);
            flex-shrink: 0;
            margin-top: 2px;
        }

        .feature-text {
            color: var(--text-secondary);
        }

        .product-links {
            display: flex;
            gap: 1rem;
            margin-top: 2rem;
        }

        .btn {
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .btn-primary {
            background: var(--accent);
            color: white;
        }

        .btn-primary:hover {
            background: var(--accent-hover);
        }

        .btn-secondary {
            background: var(--bg-secondary);
            color: var(--text-primary);
            border: 1px solid var(--border);
        }

        .btn-secondary:hover {
            background: var(--border);
        }

        /* About Section */
        .about-content {
            max-width: 800px;
            margin: 0 auto;
            text-align: center;
        }

        .about-content p {
            font-size: 1.125rem;
            color: var(--text-secondary);
            margin-bottom: 1.5rem;
            line-height: 1.8;
        }

        /* Footer */
        footer {
            background: var(--bg-secondary);
            border-top: 1px solid var(--border);
            padding: 3rem 0 1.5rem;
            margin-top: 5rem;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .footer-section h3 {
            font-size: 1.25rem;
            margin-bottom: 1rem;
        }

        .footer-section a {
            color: var(--text-secondary);
            text-decoration: none;
            display: block;
            margin-bottom: 0.5rem;
            transition: color 0.3s;
        }

        .footer-section a:hover {
            color: var(--accent);
        }

        .footer-bottom {
            text-align: center;
            padding-top: 2rem;
            border-top: 1px solid var(--border);
            color: var(--text-muted);
        }

        /* Mobile Menu */
        .mobile-menu-btn {
            display: none;
        }

        @media (max-width: 768px) {
            .nav-links {
                display: none;
                position: absolute;
                top: 100%;
                left: 0;
                right: 0;
                background: var(--bg-card);
                flex-direction: column;
                padding: 1rem;
                border-bottom: 1px solid var(--border);
                box-shadow: 0 4px 12px var(--shadow);
            }

            .nav-links.active {
                display: flex;
            }

            .mobile-menu-btn {
                display: block;
            }

            .hero h1 {
                font-size: 2.5rem;
            }

            .features-grid {
                grid-template-columns: 1fr;
            }

            .product-links {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <nav>
                <a href="#" class="logo">ViSADA</a>
                <div class="nav-links" id="navLinks">
                    <a href="#home" data-i18n="nav.home">Home</a>
                    <a href="#products" data-i18n="nav.products">Products</a>
                    <a href="#about" data-i18n="nav.about">About</a>
                    <a href="#contact" data-i18n="nav.contact">Contact</a>
                </div>
                <div class="controls">
                    <div style="display: flex; gap: 0.25rem; align-items: center; padding: 0.25rem; background: var(--bg-secondary); border-radius: 8px; border: 1px solid var(--border);">
                        <button class="theme-toggle-btn" id="lightModeBtn" style="padding: 0.4rem 0.6rem; border: 1px solid var(--border); border-radius: 6px; background: var(--bg-secondary); color: var(--text-secondary); cursor: pointer; transition: all 0.3s; display: flex; align-items: center; gap: 0.25rem; font-weight: 600;">
                            <span style="font-size: 0.85rem;">‚òÄÔ∏è</span>
                        </button>
                        <button class="theme-toggle-btn" id="darkModeBtn" style="padding: 0.4rem 0.6rem; border: 1px solid var(--border); border-radius: 6px; background: var(--bg-secondary); color: var(--text-secondary); cursor: pointer; transition: all 0.3s; display: flex; align-items: center; gap: 0.25rem; font-weight: 600;">
                            <span style="font-size: 0.85rem;">üåô</span>
                        </button>
                    </div>
                    <div style="display: flex; gap: 0.25rem; align-items: center;">
                        <button class="lang-btn" id="btnTR" style="font-weight: 600; padding: 0.5rem 0.75rem; border: 1px solid var(--border); border-radius: 8px; background: var(--bg-secondary); color: var(--text-secondary); cursor: pointer; transition: all 0.3s;">TR</button>
                        <span style="color: var(--text-muted);">|</span>
                        <button class="lang-btn" id="btnEN" style="font-weight: 600; padding: 0.5rem 0.75rem; border: 1px solid var(--border); border-radius: 8px; background: var(--bg-secondary); color: var(--text-secondary); cursor: pointer; transition: all 0.3s;">EN</button>
                    </div>
                    <button class="icon-btn mobile-menu-btn" id="mobileMenuBtn">
                        <i data-lucide="menu" style="width: 20px; height: 20px;"></i>
                    </button>
                </div>
            </nav>
        </div>
    </header>

    <main>
        <section class="hero" id="home">
            <div class="container">
                <h1 data-i18n="hero.title">Innovative Software Solutions</h1>
                <p data-i18n="hero.subtitle">Building powerful, user-friendly applications that transform the way you work</p>
                <a href="#products" class="cta-button" data-i18n="hero.cta">Explore Our Products</a>
            </div>
        </section>

        <section class="section" id="products">
            <div class="container">
                <h2 class="section-title" data-i18n="products.title">Our Products</h2>
                
                <div class="product-card">
                    <div class="product-header">
                        <div class="product-icon">
                            <i data-lucide="tree-deciduous" style="width: 32px; height: 32px;"></i>
                        </div>
                        <div>
                            <h3 class="product-title" data-i18n="products.orchard.title">Orchard Tracker</h3>
                            <p style="color: var(--text-muted); font-size: 0.9rem;" data-i18n="products.orchard.tagline">Complete Digital Orchard Management</p>
                        </div>
                    </div>
                    
                    <p class="product-description" data-i18n="products.orchard.description">
                        A comprehensive web application designed to help orchard owners and managers efficiently track and manage all aspects of their orchards. From tree inventory and location mapping to fertilizer applications, sales tracking, and seasonal notes.
                    </p>

                    <div class="features-grid">
                        <div class="feature-item">
                            <i data-lucide="trees" class="feature-icon" style="width: 20px; height: 20px;"></i>
                            <span class="feature-text" data-i18n="products.orchard.features.tree">Individual tree tracking with detailed information</span>
                        </div>
                        <div class="feature-item">
                            <i data-lucide="map" class="feature-icon" style="width: 20px; height: 20px;"></i>
                            <span class="feature-text" data-i18n="products.orchard.features.grid">Interactive grid view with visual orchard layout</span>
                        </div>
                        <div class="feature-item">
                            <i data-lucide="droplet" class="feature-icon" style="width: 20px; height: 20px;"></i>
                            <span class="feature-text" data-i18n="products.orchard.features.irrigation">Irrigation group management and visualization</span>
                        </div>
                        <div class="feature-item">
                            <i data-lucide="flask-conical" class="feature-icon" style="width: 20px; height: 20px;"></i>
                            <span class="feature-text" data-i18n="products.orchard.features.apps">Fertilizer and pesticide application logs</span>
                        </div>
                        <div class="feature-item">
                            <i data-lucide="shopping-cart" class="feature-icon" style="width: 20px; height: 20px;"></i>
                            <span class="feature-text" data-i18n="products.orchard.features.sales">Sales tracking with customer management</span>
                        </div>
                        <div class="feature-item">
                            <i data-lucide="cloud-off" class="feature-icon" style="width: 20px; height: 20px;"></i>
                            <span class="feature-text" data-i18n="products.orchard.features.offline">Full offline support with real-time sync</span>
                        </div>
                    </div>

                    <div class="product-links">
                        <a href="https://gardenal-90191.web.app/" target="_blank" rel="noopener noreferrer" class="btn btn-primary">
                            <i data-lucide="external-link" style="width: 18px; height: 18px;"></i>
                            <span data-i18n="products.orchard.launch">Launch App</span>
                        </a>
                        <a href="https://github.com/yourusername/orchard-tracker" target="_blank" rel="noopener noreferrer" class="btn btn-secondary">
                            <i data-lucide="book-open" style="width: 18px; height: 18px;"></i>
                            <span data-i18n="products.orchard.docs">Documentation</span>
                        </a>
                    </div>
                </div>
            </div>
        </section>

        <section class="section" id="about" style="background: var(--bg-secondary);">
            <div class="container">
                <h2 class="section-title" data-i18n="about.title">About ViSADA</h2>
                <div class="about-content">
                    <p data-i18n="about.p1">
                        ViSADA is dedicated to creating innovative software solutions that empower businesses and individuals to work more efficiently and effectively.
                    </p>
                    <p data-i18n="about.p2">
                        Our mission is to build intuitive, powerful applications that solve real-world problems. We focus on creating tools that are not only feature-rich but also easy to use, ensuring that technology enhances rather than complicates your workflow.
                    </p>
                    <p data-i18n="about.p3">
                        With expertise in modern web technologies and a commitment to excellence, we deliver solutions that meet the highest standards of quality, performance, and user experience.
                    </p>
                </div>
            </div>
        </section>

        <section class="section" id="contact">
            <div class="container">
                <h2 class="section-title" data-i18n="contact.title">Get in Touch</h2>
                <div class="about-content">
                    <p data-i18n="contact.description">
                        Have questions about our products or interested in working together? We'd love to hear from you.
                    </p>
                    <a href="mailto:visadaltd@gmail.com" class="cta-button" style="margin-top: 1.5rem;">
                        <i data-lucide="mail" style="width: 20px; height: 20px;"></i>
                        <span data-i18n="contact.email">Contact Us</span>
                    </a>
                    
                    <!-- Location Info -->
                    <div style="margin-top: 3rem; padding: 2rem; background: var(--bg-card); border: 1px solid var(--border); border-radius: 16px;">
                        <div style="display: flex; align-items: center; justify-content: center; gap: 0.5rem; margin-bottom: 1rem;">
                            <i data-lucide="map-pin" style="width: 24px; height: 24px; color: var(--accent);"></i>
                            <h3 style="font-size: 1.5rem; font-weight: 600;" data-i18n="contact.location">Our Location</h3>
                        </div>
                        <p style="color: var(--text-secondary); margin-bottom: 1.5rem;">
                            <span data-i18n="contact.address">Nil√ºfer, Bursa, Turkey</span>
                        </p>
                        
                        <!-- Map -->
                        <div style="border-radius: 12px; overflow: hidden; box-shadow: 0 4px 12px var(--shadow);">
                            <iframe 
                                src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d97281.23456789012!2d28.9876543!3d40.1876543!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x14ca1582d8d45695%3A0x61a00555fc973392!2zTmlsw7xmZXIsIEJ1cnNh!5e0!3m2!1sen!2str!4v1234567890123!5m2!1sen!2str" 
                                width="100%" 
                                height="400" 
                                style="border:0;" 
                                allowfullscreen="" 
                                loading="lazy" 
                                referrerpolicy="no-referrer-when-downgrade">
                            </iframe>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3 data-i18n="footer.company">Company</h3>
                    <a href="#about" data-i18n="footer.about">About Us</a>
                    <a href="#products" data-i18n="footer.products">Products</a>
                    <a href="#contact" data-i18n="footer.contact">Contact</a>
                </div>
                <div class="footer-section">
                    <h3 data-i18n="footer.products_title">Products</h3>
                    <a href="#" data-i18n="footer.orchard">Orchard Tracker</a>
                </div>
                <div class="footer-section">
                    <h3 data-i18n="footer.support">Support</h3>
                    <a href="#" data-i18n="footer.docs">Documentation</a>
                    <a href="#" data-i18n="footer.help">Help Center</a>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 ViSADA. <span data-i18n="footer.rights">All rights reserved.</span></p>
            </div>
        </div>
    </footer>

    <script>
        // Wait for DOM and Lucide to be fully loaded
        document.addEventListener('DOMContentLoaded', function() {
            // Wait a bit for Lucide to load
            setTimeout(() => {
                if (typeof lucide !== 'undefined') {
                    lucide.createIcons();
                }
            }, 100);
        });

        // Translations
        const translations = {
            en: {
                nav: {
                    home: "Home",
                    products: "Products",
                    about: "About",
                    contact: "Contact"
                },
                hero: {
                    title: "Innovative Software Solutions",
                    subtitle: "Building powerful, user-friendly applications that transform the way you work",
                    cta: "Explore Our Products"
                },
                products: {
                    title: "Our Products",
                    orchard: {
                        title: "Orchard Tracker",
                        tagline: "Complete Digital Orchard Management",
                        description: "A comprehensive web application designed to help orchard owners and managers efficiently track and manage all aspects of their orchards. From tree inventory and location mapping to fertilizer applications, sales tracking, and seasonal notes.",
                        features: {
                            tree: "Individual tree tracking with detailed information",
                            grid: "Interactive grid view with visual orchard layout",
                            irrigation: "Irrigation group management and visualization",
                            apps: "Fertilizer and pesticide application logs",
                            sales: "Sales tracking with customer management",
                            offline: "Full offline support with real-time sync"
                        },
                        launch: "Launch App",
                        docs: "Documentation"
                    }
                },
                about: {
                    title: "About ViSADA",
                    p1: "ViSADA is dedicated to creating innovative software solutions that empower businesses and individuals to work more efficiently and effectively.",
                    p2: "Our mission is to build intuitive, powerful applications that solve real-world problems. We focus on creating tools that are not only feature-rich but also easy to use, ensuring that technology enhances rather than complicates your workflow.",
                    p3: "With expertise in modern web technologies and a commitment to excellence, we deliver solutions that meet the highest standards of quality, performance, and user experience."
                },
                contact: {
                    title: "Get in Touch",
                    description: "Have questions about our products or interested in working together? We'd love to hear from you.",
                    email: "Contact Us",
                    location: "Our Location",
                    address: "Nil√ºfer, Bursa, Turkey"
                },
                footer: {
                    company: "Company",
                    about: "About Us",
                    products: "Products",
                    contact: "Contact",
                    products_title: "Products",
                    orchard: "Orchard Tracker",
                    support: "Support",
                    docs: "Documentation",
                    help: "Help Center",
                    rights: "All rights reserved."
                }
            },
            tr: {
                nav: {
                    home: "Ana Sayfa",
                    products: "√úr√ºnler",
                    about: "Hakkƒ±mƒ±zda",
                    contact: "ƒ∞leti≈üim"
                },
                hero: {
                    title: "Yenilik√ßi Yazƒ±lƒ±m √á√∂z√ºmleri",
                    subtitle: "√áalƒ±≈üma ≈üeklinizi d√∂n√º≈üt√ºren g√º√ßl√º, kullanƒ±cƒ± dostu uygulamalar geli≈ütiriyoruz",
                    cta: "√úr√ºnlerimizi Ke≈üfedin"
                },
                products: {
                    title: "√úr√ºnlerimiz",
                    orchard: {
                        title: "Bah√ße Takip",
                        tagline: "Komple Dijital Bah√ße Y√∂netimi",
                        description: "Bah√ße sahiplerinin ve y√∂neticilerinin bah√ßelerinin t√ºm y√∂nlerini verimli bir ≈üekilde takip etmelerine ve y√∂netmelerine yardƒ±mcƒ± olmak i√ßin tasarlanmƒ±≈ü kapsamlƒ± bir web uygulamasƒ±. Aƒüa√ß envanteri ve konum haritalamadan g√ºbre uygulamalarƒ±na, satƒ±≈ü takibine ve mevsimsel notlara kadar.",
                        features: {
                            tree: "Detaylƒ± bilgilerle bireysel aƒüa√ß takibi",
                            grid: "G√∂rsel bah√ße d√ºzeni ile etkile≈üimli tablo g√∂r√ºn√ºm√º",
                            irrigation: "Sulama grubu y√∂netimi ve g√∂rselle≈ütirmesi",
                            apps: "G√ºbre ve ila√ß uygulama kayƒ±tlarƒ±",
                            sales: "M√º≈üteri y√∂netimi ile satƒ±≈ü takibi",
                            offline: "Ger√ßek zamanlƒ± senkronizasyon ile tam √ßevrimdƒ±≈üƒ± destek"
                        },
                        launch: "Uygulamayƒ± Ba≈ülat",
                        docs: "Dok√ºmantasyon"
                    }
                },
                about: {
                    title: "ViSADA Hakkƒ±nda",
                    p1: "ViSADA, i≈ületmelerin ve bireylerin daha verimli ve etkili √ßalƒ±≈ümalarƒ±nƒ± saƒülayan yenilik√ßi yazƒ±lƒ±m √ß√∂z√ºmleri olu≈üturmaya kendini adamƒ±≈ütƒ±r.",
                    p2: "Misyonumuz, ger√ßek d√ºnya sorunlarƒ±nƒ± √ß√∂zen sezgisel, g√º√ßl√º uygulamalar geli≈ütirmektir. Sadece √∂zellik a√ßƒ±sƒ±ndan zengin deƒüil, aynƒ± zamanda kullanƒ±mƒ± kolay ara√ßlar yaratmaya odaklanƒ±yoruz, b√∂ylece teknolojinin i≈ü akƒ±≈üƒ±nƒ±zƒ± karma≈üƒ±kla≈ütƒ±rmak yerine geli≈ütirmesini saƒülƒ±yoruz.",
                    p3: "Modern web teknolojilerindeki uzmanlƒ±ƒüƒ±mƒ±z ve m√ºkemmelliƒüe olan baƒülƒ±lƒ±ƒüƒ±mƒ±zla, en y√ºksek kalite, performans ve kullanƒ±cƒ± deneyimi standartlarƒ±nƒ± kar≈üƒ±layan √ß√∂z√ºmler sunuyoruz."
                },
                contact: {
                    title: "ƒ∞leti≈üime Ge√ßin",
                    description: "√úr√ºnlerimiz hakkƒ±nda sorularƒ±nƒ±z mƒ± var veya birlikte √ßalƒ±≈ümakla ilgileniyor musunuz? L√ºtfen ileti≈üime ge√ßin.",
                    email: "Bize Ula≈üƒ±n",
                    location: "Konumumuz",
                    address: "Nil√ºfer, Bursa, T√ºrkiye"
                },
                footer: {
                    company: "≈ûirket",
                    about: "Hakkƒ±mƒ±zda",
                    products: "√úr√ºnler",
                    contact: "ƒ∞leti≈üim",
                    products_title: "√úr√ºnler",
                    orchard: "Bah√ße Takip",
                    support: "Destek",
                    docs: "Dok√ºmantasyon",
                    help: "Yardƒ±m Merkezi",
                    rights: "T√ºm haklarƒ± saklƒ±dƒ±r."
                }
            }
        };

        // State
        let currentLang = localStorage.getItem('lang') || null; // null means not set yet
        let currentTheme = localStorage.getItem('theme') || 'light';

        // Detect user's country and set language if not already set
        if (!currentLang) {
            fetch('https://ipapi.co/json/')
                .then(response => response.json())
                .then(data => {
                    console.log('Detected country:', data.country_code);
                    if (data.country_code === 'TR') {
                        currentLang = 'tr';
                    } else {
                        currentLang = 'en';
                    }
                    localStorage.setItem('lang', currentLang);
                    setActiveLanguage(currentLang);
                })
                .catch(error => {
                    console.error('Error detecting location:', error);
                    // Default to English if detection fails
                    currentLang = 'en';
                    localStorage.setItem('lang', currentLang);
                    setActiveLanguage(currentLang);
                });
        } else {
            // Language already set, use it
            console.log('Using saved language:', currentLang);
        }

        // Initialize theme
        document.documentElement.setAttribute('data-theme', currentTheme);

        // Theme toggle
        const lightModeBtn = document.getElementById('lightModeBtn');
        const darkModeBtn = document.getElementById('darkModeBtn');

        function setTheme(theme) {
            currentTheme = theme;
            document.documentElement.setAttribute('data-theme', currentTheme);
            localStorage.setItem('theme', currentTheme);
            
            // Update button styles
            if (theme === 'light') {
                lightModeBtn.style.background = 'var(--accent)';
                lightModeBtn.style.color = 'white';
                lightModeBtn.style.borderColor = 'var(--accent)';
                darkModeBtn.style.background = 'var(--bg-secondary)';
                darkModeBtn.style.color = 'var(--text-secondary)';
                darkModeBtn.style.borderColor = 'var(--border)';
            } else {
                darkModeBtn.style.background = 'var(--accent)';
                darkModeBtn.style.color = 'white';
                darkModeBtn.style.borderColor = 'var(--accent)';
                lightModeBtn.style.background = 'var(--bg-secondary)';
                lightModeBtn.style.color = 'var(--text-secondary)';
                lightModeBtn.style.borderColor = 'var(--border)';
            }
        }

        lightModeBtn.addEventListener('click', () => setTheme('light'));
        darkModeBtn.addEventListener('click', () => setTheme('dark'));

        // Initialize theme
        setTheme(currentTheme);

        // Force icon refresh after theme is set
        setTimeout(() => {
            if (typeof lucide !== 'undefined') {
                lucide.createIcons();
                console.log('Icons initialized');
            }
        }, 100);

        // Language buttons
        const btnTR = document.getElementById('btnTR');
        const btnEN = document.getElementById('btnEN');

        function setActiveLanguage(lang) {
            currentLang = lang;
            localStorage.setItem('lang', currentLang);
            updateLanguage();
            
            // Update button styles
            if (lang === 'tr') {
                btnTR.style.background = 'var(--accent)';
                btnTR.style.color = 'white';
                btnTR.style.borderColor = 'var(--accent)';
                btnEN.style.background = 'var(--bg-secondary)';
                btnEN.style.color = 'var(--text-secondary)';
                btnEN.style.borderColor = 'var(--border)';
            } else {
                btnEN.style.background = 'var(--accent)';
                btnEN.style.color = 'white';
                btnEN.style.borderColor = 'var(--accent)';
                btnTR.style.background = 'var(--bg-secondary)';
                btnTR.style.color = 'var(--text-secondary)';
                btnTR.style.borderColor = 'var(--border)';
            }
        }

        btnTR.addEventListener('click', () => setActiveLanguage('tr'));
        btnEN.addEventListener('click', () => setActiveLanguage('en'));

        function updateLanguage() {
            console.log('Updating language to:', currentLang);
            document.querySelectorAll('[data-i18n]').forEach(element => {
                const key = element.getAttribute('data-i18n');
                const keys = key.split('.');
                let value = translations[currentLang];
                
                for (const k of keys) {
                    if (value && value[k]) {
                        value = value[k];
                    } else {
                        console.error('Translation missing for key:', key, 'in language:', currentLang);
                        return;
                    }
                }
                
                console.log('Translating', key, 'to:', value);
                element.textContent = value;
            });
            
            document.documentElement.lang = currentLang;
            console.log('Language update complete');
        }

        // Initialize language
        setActiveLanguage(currentLang);

        // Re-initialize icons after everything is set up
        setTimeout(() => {
            if (typeof lucide !== 'undefined') {
                lucide.createIcons();
                console.log('Icons re-initialized after language setup');
            }
        }, 300);

        // Mobile menu
        const mobileMenuBtn = document.getElementById('mobileMenuBtn');
        const navLinks = document.getElementById('navLinks');

        mobileMenuBtn.addEventListener('click', () => {
            navLinks.classList.toggle('active');
        });

        // Close mobile menu when clicking a link
        navLinks.querySelectorAll('a').forEach(link => {
            link.addEventListener('click', () => {
                navLinks.classList.remove('active');
            });
        });

        // Smooth scrolling
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            });
        });
    </script>
</body>
</html>